
<article>
  <h1>Bonneau Lab Meeting</h1>
  
  <p> Sebastien Mondet <br/>
    Mon, 16 Apr 2012 09:00:00 -0400
  </p>
</article>


<article>
  
  <h3>Asynchronous Programming — Why</h3>

  <p>I/O intensive software,
    compute stuff and interact with:</p>
  <ul>
    <li> the kernel, by doing system calls </li>
    <li> the user, by reading the keyboard, the mouse, or any input device </li>
    <li> a graphical server, to communicate with a GUI </li>
    <li> other computers, by using the network </li>
    <li><strong>…</strong></li>
  </ul>
  
</article>

<article>
  <h3>Asynchronous Programming — Why</h3>
  <p>Classical solutions:</p>
  
  <ul class="build">
    <li>
      <strong>“old-school style”:</strong>
      using a <em>main loop</em> (<code>man select</code>)<br/>
      ⇒ all components must go with into this main loop<br/>
      ⇒ does not scale
    </li>
    <li>
      <strong>“C++ style”:</strong>
      using preemptive system threads (e.g. POSIX)<br/>
      ⇒ no human brain can handle shared memory multi-processing<br/>
      ⇒ more bugs than features
    </li>
  </ul>
</article>

<article>
  <h3>Lwt — Light-Weight Cooperative Threads In OCaml</h3>

  <p>The idea:</p>

  <ul>
    <li>very light program-level threads</li>
    <li>“launching” a thread is a very fast operation</li>
    <li>no new stack, no new process, nor anything else</li>
    <li>context switches are very cheap</li>
  </ul>
  <p> ⇒ launch a thread for every system call (don't block)</p>
  <p> ⇒ compose cooperative threads (use <em>Monads</em>)</p>
  <hr/>
  <a href="http://ocsigen.org/lwt/manual/">http://ocsigen.org/lwt/manual/</a>
  <br/>
  <a href="http://www.openmirage.org/wiki/tutorial-lwt">http://www.openmirage.org/wiki/tutorial-lwt</a>
  <!-- will allow us to write highly asynchronous programs. -->
</article>

<article>
  <h3>Lwt — It's a Monad!</h3>

<div class="build">
<pre># <span style="color:#0033cc">Lwt</span>.return;;
- : 'a -&gt; 'a <span style="color:#0033cc">Lwt</span>.t = &lt;<span style="color:green">fun</span>&gt;
# <span style="color:#0033cc">Lwt</span>.bind;;
- : 'a <span style="color:#0033cc">Lwt</span>.t -&gt; ('a -&gt; 'b <span style="color:#0033cc">Lwt</span>.t) -&gt; 'b <span style="color:#0033cc">Lwt</span>.t = &lt;<span style="color:green">fun</span>&gt;
</pre>

<pre># <span style="color:green">let</span> m =
  <span style="color:#0033cc">Lwt</span>.bind (<span style="color:#0033cc">Lwt_io</span>.read_char <span style="color:#0033cc">Lwt_io</span>.stdin) (<span style="color:green">fun</span> s -&gt;
    <span style="color:#0033cc">Lwt</span>.return (int_of_char s));;
<span style="color:green">val</span> m : int <span style="color:#0033cc">Lwt</span>.t = &lt;abstr&gt;
</pre>
<div>
<hr/>
<quote>The name is taken from the mathematical monad construct in category
theory, though the two concepts are not identical.</quote>
<small>
  <code><a href="http://en.wikipedia.org/wiki/Monad_(functional_programming)"
   >http://en.wikipedia.org/wiki/Monad_(functional_programming)</a></code>
<br/>
<code><a href="http://en.wikipedia.org/wiki/Monad_(category_theory)"
   >http://en.wikipedia.org/wiki/Monad_(category_theory)</a></code>
</small>
</div>
</div> 
</article>

<article>
  <h3>Lwt —  Monad + Threading API</h3>

<div class="box">
<pre># <span style="color:#0033cc">Lwt</span>.join;;
- : unit <span style="color:#0033cc">Lwt</span>.t list -&gt; unit <span style="color:#0033cc">Lwt</span>.t = &lt;<span style="color:green">fun</span>&gt;
</pre>
  <p>Wait for a list of threads to terminate.</p>
</div>

<div class="box">
<pre># <span style="color:#0033cc">Lwt</span>.choose;;
- : 'a <span style="color:#0033cc">Lwt</span>.t list -&gt; 'a <span style="color:#0033cc">Lwt</span>.t = &lt;<span style="color:green">fun</span>&gt;
</pre>

  <p>Behave as the first thread in l to terminate.</p>

</div>

<div class="box">
<pre># <span style="color:#0033cc">Lwt_list</span>.map_p;;
- : ('a -&gt; 'b <span style="color:#0033cc">Lwt</span>.t) -&gt; 'a list -&gt; 'b list <span style="color:#0033cc">Lwt</span>.t = &lt;<span style="color:green">fun</span>&gt;
</pre>
   <p>Apply function <em>concurrently</em> and get the list of results.</p>
</div>
  

</article>


<article>
  <h3>Lwt — Comes With Term I/O, Networking, SSL, Glib/GTK</h3>
  <iframe src="http://ocsigen.org/lwt/manual/">Some Text.</iframe>
</article>


<article >
  
  <h3>Project Overview</h3>
  <p>
    <a href="../img/project_overview.png">
    <img src="../img/project_overview.png"  class="centered" width="100%"></img>
    </a>
  </p>
</article>

<article>
  <h3>Abstracting The I/O</h3>
  <iframe src="../sequme/Sequme_flow_monad.IO_CONFIGURATION.html"></iframe>
</article>

<article>
  <h3>The Flow Monad</h3>
  <iframe src="../sequme/Sequme_flow_monad.FLOW_MONAD.html"></iframe>
</article>

